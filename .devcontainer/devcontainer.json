{
  "name": "android-flutter-codespace",

  // âœ… Flutter 3.x, Dart SDK, Java 17, Android SDK & ADB already installed.
  //    See: https://github.com/cirruslabs/docker-images/tree/master/flutter
  "image": "ghcr.io/cirruslabs/flutter:3.22.1",  // pin the tag you prefer

  "features": {
    // CLI niceties, git, zsh, curl, etc.
    "ghcr.io/devcontainers/features/common-utils:2": {},

    // Use the full Android SDK for API-34 (the Cirrus image ships 34 by default,
    // but including the Feature keeps `sdkmanager` available for future updates)
    "ghcr.io/casl0/devcontainer-features/android-sdk:1": {
      "version": "34.0.0"
    }
  },

  // Run once the container is up
  "postCreateCommand": [
    // Accept Android licences non-interactively
    "yes | sdkmanager --licenses",

    // Make sure Flutter itself is sane
    "flutter doctor -v"
  ],

  "customizations": {
    "vscode": {
      "extensions": [
        "dart-code.flutter",
        "vscjava.vscode-gradle",
        "eamodio.gitlens",
        "ms-vscode.cpptools"
      ]
    }
  },

  // Forward the most common dev ports
  "forwardPorts": [5555, 8080],

  // Default user inside the container
  "remoteUser": "codespace"
}

